<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Struct BucketPriorityQueue&lt;TValue&gt; | Dungeon Blueprint - 3D Dungeon Generator </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Struct BucketPriorityQueue&lt;TValue&gt; | Dungeon Blueprint - 3D Dungeon Generator ">
      
      <meta name="description" content="Bucket priority queue for queueing elements with a known number of discrete priorities. You must pass the maximum number of priorities into the constructor.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/new/main/apiSpec/new?filename=PWS_DungeonBlueprint_Util_BucketPriorityQueue_1.md&amp;value=---%0Auid%3A%20PWS.DungeonBlueprint.Util.BucketPriorityQueue%601%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="Dungeon Blueprint">
            Dungeon Blueprint
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1">



  <h1 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1" class="text-break">
Struct BucketPriorityQueue&lt;TValue&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L22"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="PWS.html">PWS</a>.<a class="xref" href="PWS.DungeonBlueprint.html">DungeonBlueprint</a>.<a class="xref" href="PWS.DungeonBlueprint.Util.html">Util</a></dd></dl>
  
  </div>

  <div class="markdown summary"><p>Bucket priority queue for queueing elements with a known number of discrete priorities. You must pass the maximum number of priorities into the constructor.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public struct BucketPriorityQueue&lt;TValue&gt; : IDisposable where TValue : unmanaged, IEquatable&lt;TValue&gt;</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TValue</code></dt>
    <dd><p>Type of the elements in the priority queue. Must implement <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iequatable-1">IEquatable&lt;T&gt;</a> for removal functionality.</p>
</dd>
  </dl>


  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
    </dd>
  </dl>


  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.equals">ValueType.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.gethashcode">ValueType.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.tostring">ValueType.ToString()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
  </dd></dl>




  <h2 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>This queue is not stable, meaning if multiple elements are queued with the same priority, there is no guaranteed order they will be dequeued with.<br>
This type encapsulates native memory. You must call <a class="xref" href="PWS.DungeonBlueprint.Util.BucketPriorityQueue-1.html#PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Dispose">Dispose()</a> to free it.<br>
This type contains custom <span class="xref">Unity.Profiling.ProfilerMarker</span> fields with the prefix &quot;BucketPriorityQueue&quot;.</p>
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1__ctor_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.#ctor*"></a>

  <h3 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1__ctor_System_Int32_System_Int32_Unity_Collections_Allocator_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.#ctor(System.Int32,System.Int32,Unity.Collections.Allocator)">
  BucketPriorityQueue(int, int, Allocator)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L57"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Creates a new instance of <a class="xref" href="PWS.DungeonBlueprint.Util.BucketPriorityQueue-1.html">BucketPriorityQueue&lt;TValue&gt;</a> with the given number of priorities.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public BucketPriorityQueue(int nrBuckets, int bucketCapacity, Allocator allocator)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>nrBuckets</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Number of buckets in this queue. You can not enqueue an element with a priority higher than nrBuckets - 1.</p>
</dd>
    <dt><code>bucketCapacity</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Initial capacity of each priority bucket. Buckets will be resized dynamically if you enqueue more than this into one priority bucket.</p>
</dd>
    <dt><code>allocator</code> <span class="xref">Allocator</span></dt>
    <dd><p>Allocator used for allocating the buckets.</p>
</dd>
  </dl>








  <h4 class="section" id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1__ctor_System_Int32_System_Int32_Unity_Collections_Allocator__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This allocates O(nrBuckets * bucketCapacity) memory using the given allocator handle. You must call <a class="xref" href="PWS.DungeonBlueprint.Util.BucketPriorityQueue-1.html#PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Dispose">Dispose()</a> to free it.</p>
</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>If <code class="paramref">nrBuckets</code> is below or equal to 0 and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
  </dl>



  <h2 class="section" id="properties">Properties
</h2>


  <a id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_IsEmpty_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.IsEmpty*"></a>

  <h3 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_IsEmpty" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.IsEmpty">
  IsEmpty
  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L29"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Checks whether there is currently an element queued up.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool IsEmpty { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>





  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.objectdisposedexception">ObjectDisposedException</a></dt>
    <dd><p>If Dispose() was already called on this instance and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
  </dl>



  <h2 class="section" id="methods">Methods
</h2>


  <a id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Clear_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Clear*"></a>

  <h3 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Clear" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Clear">
  Clear()
  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L90"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Removes all elements currently queued.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Clear()</code></pre>
  </div>









  <h4 class="section" id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Clear_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>O(number of buckets) time.</p>
</div>




  <a id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Dequeue_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Dequeue*"></a>

  <h3 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Dequeue" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Dequeue">
  Dequeue()
  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L139"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Dequeues the element with the highest priority currently queued. If multiple elements with the same priority exist, they will be dequeued without a guaranteed order.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TValue Dequeue()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><span class="xref">TValue</span></dt>
    <dd><p>Element with the highest priority currently queued.</p>
</dd>
  </dl>







  <h4 class="section" id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Dequeue_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Amortized O(1) time, O(number of buckets) worst case.</p>
</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.objectdisposedexception">ObjectDisposedException</a></dt>
    <dd><p>If Dispose() was already called on this instance and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.invalidoperationexception">InvalidOperationException</a></dt>
    <dd><p>If the queue is empty and ENABLE_UNITY_COLLECTIONS_CHECKS is defined. Check <a class="xref" href="PWS.DungeonBlueprint.Util.BucketPriorityQueue-1.html#PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_IsEmpty">IsEmpty</a> to avoid this.</p>
</dd>
  </dl>



  <a id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Dispose_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Dispose*"></a>

  <h3 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Dispose" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Dispose">
  Dispose()
  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L74"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Frees native memory.
You must not continue using this instance after calling this.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Dispose()</code></pre>
  </div>













  <a id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Enqueue_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Enqueue*"></a>

  <h3 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Enqueue__0_System_Int32_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Enqueue(`0,System.Int32)">
  Enqueue(TValue, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L115"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Enqueues the given element with the given priority into the queue.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Enqueue(TValue item, int priority)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>item</code> <span class="xref">TValue</span></dt>
    <dd><p>Element to enqueue.</p>
</dd>
    <dt><code>priority</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Priority this element is enqueued with.</p>
</dd>
  </dl>








  <h4 class="section" id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Enqueue__0_System_Int32__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Amortized O(1) time, O(n) worst case (happens if the bucket has to be resized to enqueue the item).<br>
This may allocate memory using the allocator handle originally given to this instance. The amount of new memory allocated depends on how many elements are queued with this priority. See <span class="xref">Unity.Collections.LowLevel.Unsafe.UnsafeList&lt;T&gt;.Add(in T)</span>.
If new memory allocated, the old memory is freed automatically.</p>
</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.objectdisposedexception">ObjectDisposedException</a></dt>
    <dd><p>If Dispose() was already called on this instance and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.invalidoperationexception">InvalidOperationException</a></dt>
    <dd><p>If <code class="paramref">priority</code> is below 0 or higher than the maximum priority passed to the constructor and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
  </dl>



  <a id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Remove_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Remove*"></a>

  <h3 id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Remove__0_System_Int32_" data-uid="PWS.DungeonBlueprint.Util.BucketPriorityQueue`1.Remove(`0,System.Int32)">
  Remove(TValue, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L172"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Removes an element equal to the given element from the given priority bucket. Equality is determined by <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iequatable-1.equals">Equals(T)</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Remove(TValue item, int priority)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>item</code> <span class="xref">TValue</span></dt>
    <dd><p>Element to remove from the queue.</p>
</dd>
    <dt><code>priority</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Priority the given element is currently queued with.</p>
</dd>
  </dl>








  <h4 class="section" id="PWS_DungeonBlueprint_Util_BucketPriorityQueue_1_Remove__0_System_Int32__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Amortized O(1) time, O(number of buckets) worst case.<br>
If multiple elements equal to the given element are queued in the given priority bucket, only one of them is removed. There is no guarantee on which of the elements will be removed.</p>
</div>

  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.objectdisposedexception">ObjectDisposedException</a></dt>
    <dd><p>If Dispose() was already called on this instance and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.invalidoperationexception">InvalidOperationException</a></dt>
    <dd><p>If <code class="paramref">priority</code> is below 0 or higher than the maximum priority passed to the constructor and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.invalidoperationexception">InvalidOperationException</a></dt>
    <dd><p>If no element equal to <code class="paramref">item</code> is currently queued with the given priority and ENABLE_UNITY_COLLECTIONS_CHECKS is defined.</p>
</dd>
  </dl>



  <h2 id="seealso">See Also</h2>
  <div class="seealso">
      <div><span><a href="https://en.wikipedia.org/wiki/Bucket_queue">Bucket priority queue on Wikipedia</a></span></div>
  </div>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Pulsar-Wave-Studios/DungeonBlueprint/blob/main/Assets/PWS/DungeonBlueprint/Scripts/Util/BucketPriorityQueue.cs/#L22" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <a href="https://pulsar-wave-studios.github.io/#imprint" target="_blank">Impressum</a>
        </div>
      </div>
    </footer>
  </body>
</html>
